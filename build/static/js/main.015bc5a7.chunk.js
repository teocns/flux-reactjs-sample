(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],{160:function(e,t,n){},161:function(e,t,n){},193:function(e,t){},199:function(e,t,n){"use strict";n.r(t);var a=n(2),c=n(0),i=n.n(c),r=n(15),s=n.n(r),o=(n(160),n(161),n.p,n(137)),l=n(28),d=n(258),u=n(257),b=n(256),j=(n(55),n(65)),O=n(17),h=n(8),f=n(13),p=n(32),S=n(18),g=n(36),v=n(34),C=n(12),E=n(16),T=new(n(132).Dispatcher),m=n(114)({SCRAPER_CONNECTED:null,CONTENT_SCRAPED:null,SPAWN_SCRAPER:null,STOP_SCRAPERS:null,FRONTEND_STATUS_RECEIVED:null,SCRAPER_STATUS_CHANGED:null,SCRAPER_SPAWNED:null,DOWNLOADS_SYNC_REQUESTED:null,DOWNLOADS_WAITING_FOR_SYNC:null,DOWNLOADS_SYNC_RECEIVED:null,BACKEND_STATUS_CHANGED:null,JOBS_BATCH_SCRAPED:null,LOCATION_UPDATED:null,SNAPSHOT_CONFIG_UPDATED:null,SCRAPE_LOCATION_BY_TERM_REQUESTED:null}),D=(Object(E.a)("keyWords"),Object(E.a)("city"),Object(E.a)("state"),Object(E.a)("withinDays"),Object(E.a)("status"),Object(E.a)("scrapingFilter"),n(133)),A=n.n(D),x=(Object(E.a)("jobsScraped"),Object(E.a)("backendConnected"),Object(E.a)("locations"),Object(E.a)("snapshotConfigs"),n(114)({STATUS:null,SCRAPER_CONNECTED:null,CONTENT_SCRAPED:null,FRONTEND_STATUS:null,SPAWN_SCRAPER:null,SESSION_ID:null,STATUS_RECEIVED:null,STOP_SCRAPERS:null,SCRAPER_STATUS_CHANGED:null,DOWNLOADS_SYNC_REQUESTED:null,DOWNLOADS_SYNC_RECEIVED:null,BACKEND_STATUS_CHANGED:null,JOBS_BATCH_SCRAPED:null,LOCATION_UPDATED:null,SCRAPE_LOCATION_BY_TERM:null})),N=function(){k.sendMessage(x.FRONTEND_STATUS)},y={statusReceived:function(e){T.dispatch({actionType:m.FRONTEND_STATUS_RECEIVED,data:{status:e}})},requestStatus:N,sessIdReceived:function(){N()},scraperStatusChanged:function(e){T.dispatch({actionType:m.SCRAPER_STATUS_CHANGED,data:{scraperStatus:e}})},syncDownloads:function(){k.sendMessage(x.DOWNLOADS_SYNC_REQUESTED),T.dispatch({actionType:m.DOWNLOADS_WAITING_FOR_SYNC,data:{isWaiting:!0}}),setTimeout((function(){T.dispatch({actionType:m.DOWNLOADS_WAITING_FOR_SYNC,data:{isWaiting:!1}})}),5e3)},downloadsSyncReceived:function(e){T.dispatch({actionType:m.DOWNLOADS_SYNC_RECEIVED,data:{downloads:e}})},backendStatusChanged:function(e){var t=e.backendConnected;T.dispatch({actionType:m.BACKEND_STATUS_CHANGED,data:{backendConnected:t}})},jobsBatchScraped:function(e){T.dispatch({actionType:m.JOBS_BATCH_SCRAPED,data:{jobsBatch:e}})},locationUpdated:function(e){T.dispatch({actionType:m.LOCATION_UPDATED,data:{location:e}})},scrapeLocationByTerm:function(e){k.sendMessage(x.SCRAPE_LOCATION_BY_TERM,e)},scrapingSpeedDataReceived:function(e){T.dispatch({actionType:m.SCRAPING_SPEED_DATA_UPDATED,data:{speedData:e}})}},_=function(e){e.on("connect",(function(){e.emit("frontend")})),e.on(x.SESSION_ID,(function(){y.sessIdReceived()})),e.on(x.FRONTEND_STATUS,(function(e){y.statusReceived(e)})),e.on(x.SCRAPER_STATUS_CHANGED,(function(e){y.scraperStatusChanged(e)})),e.on(x.BACKEND_STATUS_CHANGED,(function(e){y.backendStatusChanged(e)})),e.on("JOB_SCRAPED",y.scrapingSpeedDataReceived),e.on(x.LOCATION_UPDATED,(function(e){y.locationUpdated(e)}))},R=function(){var e=A()("wss://backendbebee.teocns.com:443",{secure:!0,reconnect:!0,rejectUnauthorized:!1,transports:["websocket"],withCredentials:!0});return _(e),e}(),k={socketInstance:R,sendMessage:function(e,t){R.emit(e,t)}},P=n(43),w=Object(E.a)("backendConnected"),I=Object(E.a)("scrapers"),L=Object(E.a)("jobsScraped"),U=Object(E.a)("scrapingSpeed"),W=Object(E.a)("snapshotConfigs"),B=new(function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(){var e;Object(f.a)(this,n);for(var a=arguments.length,c=new Array(a),i=0;i<a;i++)c[i]=arguments[i];return e=t.call.apply(t,[this].concat(c)),Object.defineProperty(Object(S.a)(e),w,{writable:!0,value:void 0}),Object.defineProperty(Object(S.a)(e),I,{writable:!0,value:void 0}),Object.defineProperty(Object(S.a)(e),L,{writable:!0,value:void 0}),Object.defineProperty(Object(S.a)(e),U,{writable:!0,value:void 0}),Object.defineProperty(Object(S.a)(e),W,{writable:!0,value:void 0}),e}return Object(p.a)(n,[{key:"addChangeListener",value:function(e,t){this.on(e,t)}},{key:"removeChangeListener",value:function(e,t){this.removeListener(e,t)}},{key:"emitChange",value:function(e,t){this.emit(e,t)}},{key:"setScrapingSpeedData",value:function(e){var t=e.age,n=e.scraped,a=parseInt(new Date/1e3);Object(C.a)(this,U)[U]=parseInt(n/((a-t)/60))}},{key:"getScrapingSpeedData",value:function(){return Object(C.a)(this,U)[U]||0}},{key:"registerStatus",value:function(e){var t=e.scrapers,n=e.jobsScraped,a=e.backendConnected,c=e.snapshotConfigs;Object(C.a)(this,I)[I]=t,Object(C.a)(this,L)[L]=n,Object(C.a)(this,W)[W]=c,Object(C.a)(this,w)[w]=a}},{key:"getScrapersTable",value:function(){return(Object(C.a)(this,I)[I]||[]).map((function(e){var t=e.sessionData;try{t=JSON.stringify(e.sessionData)}catch(n){}return{id:e.uuid,currentTask:e.currentTask,session:t,statusPretty:e.statusPretty}}))}},{key:"setDownloadsSyncing",value:function(e){this.downloadSyncing=e}},{key:"getDownloadsSyncing",value:function(){return this.downloadSyncing}},{key:"getBackendConnected",value:function(){return Object(C.a)(this,w)[w]}},{key:"setBackendConnected",value:function(e){console.log(e),Object(C.a)(this,w)[w]=e}}]),n}(P.EventEmitter));B.dispatchToken=T.register((function(e){var t=!0;switch(e.actionType){case m.FRONTEND_STATUS_RECEIVED:B.registerStatus(e.data.status);break;case m.BACKEND_STATUS_CHANGED:B.setBackendConnected(e.data.backendConnected);break;case m.SCRAPING_SPEED_DATA_UPDATED:B.setScrapingSpeedData(e.data.speedData);break;default:t=!1}t&&B.emitChange(e.actionType,e.data)}));var F=B;var G=n(21),H=n(138),V={GLASSDOOR:"glassdoor"},Y={GLASSDOOR:"glassdoor",INDEED:"indeed",LINKEDIN:"linkedin",CAREER_BUILDER:"careerbuilder"},M=n(243),J=n(242),z=n(244),K=n(245),Q=Object(o.a)((function(e){return{root:{display:"inline-flex",flexDirection:"column",padding:e.spacing(2)},subtitle:{}}}));var q=function(e){var t=e.onUpdated,n=Object(c.useState)(Object.values([Y.GLASSDOOR])),i=Object(h.a)(n,2),r=i[0],s=i[1],o=Object(l.a)(),d=Q();return Object(a.jsxs)(J.a,{className:d.root,children:[Object(a.jsx)(z.a,{component:"legend",style:{textAlign:"left",fontSize:"small"},children:"View data for"}),Object(a.jsx)(K.a,{style:{marginTop:o.spacing(.5)},row:!0,children:Object.values(Y).map((function(e){return Object(a.jsx)(M.a,{label:e.charAt(0).toUpperCase()+e.slice(1),control:Object(a.jsx)(H.a,{size:"small",checked:r.includes(e)&&Object.values(V).includes(e),onChange:function(){!function(e){var n,a=r.includes(e),c=void 0;a&&r.length>1?(c=r.filter((function(t){return t!==e})),s()):a||(c=[e].concat(Object(G.a)(r))),c&&(s(c),(n=t)&&"[object Function]"==={}.toString.call(n)&&t(c))}(e)},inputProps:{"aria-label":"primary checkbox"},disabled:!Object.values(V).includes(e)})},e)}))})]})},X=i.a.memo(q),Z=(n(246),n(247),Object(o.a)((function(e){return{actionsRow:{marginBottom:e.spacing(1)}}})),n(64)),$=n.n(Z),ee=function(e){return $.a.isMoment(e)||(e=$.a.unix(e)),e.isSame($()(),"day")?e.format("hh:mm a"):e.isSame($()().subtract(1,"d"),"day")?"Yesterday":e.isSame($()(),"week")?e.format("dddd"):e.format("DD/MM/YYYY")};var te=function(e){var t=e.indexOf("\\")>=0?e.lastIndexOf("\\"):e.lastIndexOf("/"),n=e.substring(t);0!==n.indexOf("\\")&&0!==n.indexOf("/")||(n=n.substring(1))};var ne=Object(E.a)("locations"),ae=Object(E.a)("LocationsSyncing"),ce=new(function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(f.a)(this,n),a=t.call(this,e),Object.defineProperty(Object(S.a)(a),ne,{writable:!0,value:void 0}),Object.defineProperty(Object(S.a)(a),ae,{writable:!0,value:void 0}),Object(C.a)(Object(S.a)(a),ae)[ae]=!1,Object(C.a)(Object(S.a)(a),ne)[ne]=[],a}return Object(p.a)(n,[{key:"addChangeListener",value:function(e,t){this.on(e,t)}},{key:"removeChangeListener",value:function(e,t){this.removeListener(e,t)}},{key:"emitChange",value:function(e,t){this.emit(e,t)}},{key:"setLocationsSyncing",value:function(e){Object(C.a)(this,ae)[ae]=e}},{key:"getLocationsSyncing",value:function(){return Object(C.a)(this,ae)[ae]}},{key:"setLocations",value:function(e){Object(C.a)(this,ne)[ne]=e}},{key:"locationUpdated",value:function(e){var t=Object(C.a)(this,ne)[ne].findIndex((function(t){return t.locationId===e.locationId}));Object(C.a)(this,ne)[ne][t]=e}},{key:"getTable",value:function(){return(Object(C.a)(this,ne)[ne]||[]).map((function(e){var t=e;return e.id=e.realId,t}))}},{key:"getName",value:function(e){var t=Object(C.a)(this,ne)[ne].find((function(t){return t.locationId===e}));return t?t.label:""}}]),n}(P.EventEmitter));ce.dispatchToken=T.register((function(e){var t=!0;switch(e.actionType){case m.FRONTEND_STATUS_RECEIVED:ce.setLocations(e.data.status.locations);break;case m.JOBS_BATCH_SCRAPED:ce.jobsBatchScraped(e.data.jobsBatch);break;case m.LOCATION_UPDATED:ce.locationUpdated(e.data.location);break;default:t=!1}t&&ce.emitChange(e.actionType,e.data)}));var ie=ce,re=n(249),se=n(252),oe=n(239),le=n(248),de=n(250),ue=n(205),be=n(251),je=n(255),Oe=n(262),he=n(135),fe=n(261),pe=n(102),Se=n(253),ge=n(254),ve=[{id:"id",label:"ID",minWidth:100},{id:"countryName",label:"Country",minWidth:100},{id:"locationType",label:"Type",minWidth:180},{id:"label",label:"Name",minWidth:320}],Ce=Object(o.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440},searchParent:{marginBottom:e.spacing(2),display:"flex",justifyContent:"flex-end"}}}));function Ee(){var e=Object(c.useState)(Object(G.a)(ie.getTable())),t=Object(h.a)(e,2),n=t[0],r=t[1],s=Object(c.useState)(""),o=Object(h.a)(s,2),l=o[0],d=o[1],u=i.a.useState(0),b=Object(h.a)(u,2),j=b[0],O=b[1],f=i.a.useState(10),p=Object(h.a)(f,2),S=p[0],g=p[1],v=i.a.useState(null),C=Object(h.a)(v,2),E=C[0],T=C[1],D=function(e){T(e.currentTarget)},A=function(e){e.currentTarget.getAttribute("data-action");T(null)},x=function(){var e=Object(G.a)(ie.getTable());if(l.length){var t=l.toLowerCase(),n=e.filter((function(e){return e.label.toString().toLowerCase().includes(t)||e.locationId.toString().toLowerCase().includes(t)||e.countryName.toString().toLowerCase().includes(t)||e.id.toString().toLowerCase().includes(t)}));return r(n)}r(e)},N=Ce();Object(c.useEffect)((function(){return ie.addChangeListener(m.FRONTEND_STATUS_RECEIVED,x),ie.addChangeListener(m.LOCATION_UPDATED,x),function(){ie.removeChangeListener(m.FRONTEND_STATUS_RECEIVED,x),ie.removeChangeListener(m.LOCATION_UPDATED,x)}}));return Object(a.jsxs)("div",{children:[Object(a.jsx)("div",{className:N.searchParent,children:Object(a.jsx)(J.a,{style:{padding:8,display:"flex",alignItems:"center"},children:Object(a.jsx)(fe.a,{placeholder:"Search",onChange:function(e){var t=e.currentTarget.value;d(t),setTimeout((function(){x()}),100)}})})}),Object(a.jsxs)(J.a,{className:N.root,children:[Object(a.jsx)(le.a,{className:N.container,children:Object(a.jsxs)(re.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(a.jsx)(de.a,{children:Object(a.jsx)(be.a,{children:ve.map((function(e){return Object(a.jsx)(oe.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(a.jsx)(se.a,{children:n.slice(j*S,j*S+S).map((function(e){return Object(a.jsx)(be.a,{hover:!0,role:"checkbox",tabIndex:-1,children:ve.map((function(t){var n=e[t.id];return Object(a.jsx)(oe.a,{align:t.align,children:function(){switch(t.id){case"locationType":if("N"===n)return"State";if("C"===n)return"City";break;case"isActiveForScrape":return Object(a.jsxs)("div",{children:[Object(a.jsx)(pe.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:D,children:Object(a.jsx)(Se.a,{})}),Object(a.jsxs)(he.a,{id:"simple-menu",anchorEl:E,keepMounted:!0,open:Boolean(E),onClose:A,children:[Object(a.jsxs)(Oe.a,{onClick:A,"data-action":"scrapeNow",disabled:!n.finished,children:[Object(a.jsx)(ge.a,{style:{marginRight:8}}),"Scrape now"]}),Object(a.jsxs)(Oe.a,{onClick:A,style:{paddingLeft:8},children:[Object(a.jsx)(je.a,{style:{marginRight:2},checked:!0,name:"checkedB",disabled:!0,size:"small",color:"primary"}),"Active"]})]})]});default:return t.format&&"number"===typeof n?t.format(n):n}}()},t.id)}))},e.locationId)}))})]})}),Object(a.jsx)(ue.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:S,page:j,onChangePage:function(e,t){O(t)},onChangeRowsPerPage:function(e){g(+e.target.value),O(0)}})]})]})}var Te=Object(E.a)("snapshotConfigs"),me=new(function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(f.a)(this,n),a=t.call(this,e),Object.defineProperty(Object(S.a)(a),Te,{writable:!0,value:void 0}),Object(C.a)(Object(S.a)(a),Te)[Te]=[],a}return Object(p.a)(n,[{key:"addChangeListener",value:function(e,t){this.on(e,t)}},{key:"removeChangeListener",value:function(e,t){this.removeListener(e,t)}},{key:"emitChange",value:function(e,t){this.emit(e,t)}},{key:"setSnapshotConfigs",value:function(e){Object(C.a)(this,Te)[Te]=e}},{key:"locationUpdated",value:function(e){var t=Object(C.a)(this,Te)[Te].findIndex((function(t){return t.locationId===e.locationId}));Object(C.a)(this,Te)[Te][t]=e}},{key:"getTable",value:function(){return(Object(C.a)(this,Te)[Te]||[]).map((function(e){var t=e;return e.id=e.uuid,t}))}}]),n}(P.EventEmitter));me.dispatchToken=T.register((function(e){var t=!0;switch(e.actionType){case m.FRONTEND_STATUS_RECEIVED:me.setSnapshotConfigs(e.data.status.snapshotConfigs);break;default:t=!1}t&&me.emitChange(e.actionType,e.data)}));var De=me,Ae=n(203),xe=[{id:"locationId",label:"Location",minWidth:180},{id:"keywords",label:"Keywords",minWidth:320},{id:"scrapeInterval",label:"Scrape once every",minWidth:320},{id:"snapshot",label:"Latest scrape job",minWidth:320}],Ne=Object(o.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440}}}));function ye(){var e=Object(c.useState)(Object(G.a)(De.getTable())),t=Object(h.a)(e,2),n=t[0],r=t[1],s=i.a.useState(0),o=Object(h.a)(s,2),l=o[0],d=o[1],u=i.a.useState(10),b=Object(h.a)(u,2),j=b[0],O=b[1],f=i.a.useState(null),p=Object(h.a)(f,2),S=p[0],g=p[1],v=function(e){g(e.currentTarget)},C=function(e){e.currentTarget.getAttribute("data-action");g(null)},E=function(){r(Object(G.a)(De.getTable()))},T=Ne();return Object(c.useEffect)((function(){return De.addChangeListener(m.FRONTEND_STATUS_RECEIVED,E),De.addChangeListener(m.SNAPSHOT_CONFIG_UPDATED,E),function(){De.removeChangeListener(m.FRONTEND_STATUS_RECEIVED,E),De.removeChangeListener(m.SNAPSHOT_CONFIG_UPDATED,E)}})),Object(a.jsxs)(J.a,{className:T.root,children:[Object(a.jsx)(le.a,{className:T.container,children:Object(a.jsxs)(re.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(a.jsx)(de.a,{children:Object(a.jsx)(be.a,{children:xe.map((function(e){return Object(a.jsx)(oe.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(a.jsx)(se.a,{children:n.slice(l*j,l*j+j).map((function(e){return Object(a.jsx)(be.a,{hover:!0,role:"checkbox",tabIndex:-1,children:xe.map((function(t){var n=e[t.id];return Object(a.jsx)(oe.a,{align:t.align,children:function(){switch(t.id){case"scrapeInterval":return Object(a.jsxs)("div",{children:[Object(a.jsxs)("code",{children:[n," "]}),Object(a.jsx)(Ae.a,{variant:"caption",children:"seconds"})]});case"snapshot":return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(a.jsx)(Ae.a,{variant:"overline",children:ee(n.age)}),Object(a.jsxs)(Ae.a,{variant:"caption",children:["Jobs scraped:"," ",Object(a.jsxs)("code",{children:[n.scrapedJobs,"/",n.totalJobsCount]})]}),Object(a.jsxs)(Ae.a,{variant:"caption",children:["Pages scraped: ",n.scrapedPages,"/",Object(a.jsx)("code",{children:n.totalNumberOfPages})]})]});case"isActiveForScrape":return Object(a.jsxs)("div",{children:[Object(a.jsx)(pe.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:v,children:Object(a.jsx)(Se.a,{})}),Object(a.jsxs)(he.a,{id:"simple-menu",anchorEl:S,keepMounted:!0,open:Boolean(S),onClose:C,children:[Object(a.jsxs)(Oe.a,{onClick:C,"data-action":"scrapeNow",disabled:!n.finished,children:[Object(a.jsx)(ge.a,{style:{marginRight:8}}),"Scrape now"]}),Object(a.jsxs)(Oe.a,{onClick:C,style:{paddingLeft:8},children:[Object(a.jsx)(je.a,{style:{marginRight:2},checked:!0,name:"checkedB",disabled:!0,size:"small",color:"primary"}),"Active"]})]})]});case"latestSnapshot":return Object(a.jsxs)("div",{style:{display:"flex",flexDirection:"column"},children:[Object(a.jsx)(Ae.a,{variant:"overline",children:ee(n.age)}),Object(a.jsxs)(Ae.a,{variant:"caption",children:["Filter: ",Object(a.jsx)("code",{children:"LAST DAY"})]}),Object(a.jsxs)(Ae.a,{variant:"caption",children:["Jobs scraped:"," ",Object(a.jsxs)("code",{children:[n.scrapedJobs,"/",n.totalJobsCount]})]}),Object(a.jsxs)(Ae.a,{variant:"caption",children:["Pages scraped: ",n.scrapedPages,"/",Object(a.jsx)("code",{children:n.totalNumberOfPages})]})]});default:return t.format&&"number"===typeof n?t.format(n):n}}()},t.id)}))},e.code)}))})]})}),Object(a.jsx)(ue.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:j,page:l,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){O(+e.target.value),d(0)}})]})}var _e=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(ye,{})})},Re=Object(E.a)("downloads"),ke=Object(E.a)("downloadsSyncing"),Pe=new(function(e){Object(g.a)(n,e);var t=Object(v.a)(n);function n(e){var a;return Object(f.a)(this,n),a=t.call(this,e),Object.defineProperty(Object(S.a)(a),Re,{writable:!0,value:void 0}),Object.defineProperty(Object(S.a)(a),ke,{writable:!0,value:void 0}),Object(C.a)(Object(S.a)(a),ke)[ke]=!1,Object(C.a)(Object(S.a)(a),Re)[Re]=[],a}return Object(p.a)(n,[{key:"addChangeListener",value:function(e,t){this.on(e,t)}},{key:"removeChangeListener",value:function(e,t){this.removeListener(e,t)}},{key:"emitChange",value:function(e,t){this.emit(e,t)}},{key:"setDownloadsSyncing",value:function(e){Object(C.a)(this,ke)[ke]=e}},{key:"getDownloadsSyncing",value:function(){return Object(C.a)(this,ke)[ke]}},{key:"setAvailableDownloads",value:function(e){Object(C.a)(this,Re)[Re]=e}},{key:"getTable",value:function(){return Object(C.a)(this,Re)[Re].map((function(e){return{id:e.uuid,description:e.description,size:e.size,url:e.url,age:ee(e.age._seconds)}}))}}]),n}(P.EventEmitter));Pe.dispatchToken=T.register((function(e){var t=!0;switch(e.actionType){case m.DOWNLOADS_WAITING_FOR_SYNC:Pe.setDownloadsSyncing(e.data.isWaiting);break;case m.DOWNLOADS_SYNC_RECEIVED:Pe.setDownloadsSyncing(!1),Pe.setAvailableDownloads(e.data.downloads);break;case m.FRONTEND_STATUS_RECEIVED:Pe.setAvailableDownloads(e.data.status.downloads);break;default:t=!1}t&&Pe.emitChange(e.actionType,e.data)}));var we=Pe,Ie=n(78),Le=n.n(Ie),Ue=[{id:"id",label:"ID",minWidth:100},{id:"age",label:"Generated",minWidth:320},{id:"description",label:"Description",minWidth:320},{id:"size",label:"Size",minWidth:280},{id:"url",label:"URL",minWidth:480},{id:"download",label:"Actions",minWidth:100,align:"right"}];var We=Object(o.a)((function(e){return{root:{width:"100%"},container:{maxHeight:440}}}));function Be(){var e=Object(c.useState)(we.getTable()),t=Object(h.a)(e,2),n=t[0],r=t[1],s=i.a.useState(0),o=Object(h.a)(s,2),l=o[0],d=o[1],u=i.a.useState(10),b=Object(h.a)(u,2),j=b[0],O=b[1];console.log(n);var f=function(){r(we.getTable())},p=We();return Object(c.useEffect)((function(){return we.addChangeListener(m.FRONTEND_STATUS_RECEIVED,f),we.addChangeListener(m.DOWNLOADS_SYNC_RECEIVED,f),function(){we.removeChangeListener(m.FRONTEND_STATUS_RECEIVED,f),we.removeChangeListener(m.DOWNLOADS_SYNC_RECEIVED,f)}})),Object(a.jsxs)(J.a,{className:p.root,children:[Object(a.jsx)(le.a,{className:p.container,children:Object(a.jsxs)(re.a,{stickyHeader:!0,"aria-label":"sticky table",children:[Object(a.jsx)(de.a,{children:Object(a.jsx)(be.a,{children:Ue.map((function(e){return Object(a.jsx)(oe.a,{align:e.align,style:{minWidth:e.minWidth},children:e.label},e.id)}))})}),Object(a.jsx)(se.a,{children:n.slice(l*j,l*j+j).map((function(e){return Object(a.jsx)(be.a,{hover:!0,role:"checkbox",tabIndex:-1,children:Ue.map((function(t){var n=e[t.id];return"download"===t.id?Object(a.jsx)(oe.a,{align:t.align,children:Object(a.jsx)(pe.a,{color:"primary","aria-label":"Download XML",onClick:function(){!function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.responseType="blob",n.onload=function(){var e=(window.URL||window.webkitURL).createObjectURL(this.response),n=document.createElement("a");n.href=e,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n)},n.send()}(e.url,te(e.url))},children:Object(a.jsx)(Le.a,{})})},"download-"+e.id):Object(a.jsx)(oe.a,{align:t.align,children:t.format&&"number"===typeof n?t.format(n):n},t.id)}))},e.code||e.id)}))})]})}),Object(a.jsx)(ue.a,{rowsPerPageOptions:[10,25,100],component:"div",count:n.length,rowsPerPage:j,page:l,onChangePage:function(e,t){d(t)},onChangeRowsPerPage:function(e){O(+e.target.value),d(0)}})]})}var Fe=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Be,{})})},Ge=n(40),He=n(134),Ve=n.n(He),Ye=n(4),Me=Object(o.a)((function(e){return{root:{display:"inline-flex",alignItems:"center"},icon:{fontSize:"1rem",margin:e.spacing(.5)},iconConnected:{color:"green"},iconDisconnected:{color:"red"}}})),Je=function(){var e,t=Object(c.useState)(F.getBackendConnected()),n=Object(h.a)(t,2),i=n[0],r=n[1],s=function(){var e=F.getBackendConnected();e!==i&&r(e)};Object(c.useEffect)((function(){return F.addChangeListener(m.FRONTEND_STATUS_RECEIVED,s),F.addChangeListener(m.BACKEND_STATUS_CHANGED,s),function(){F.removeChangeListener(m.FRONTEND_STATUS_RECEIVED,s),F.removeChangeListener(m.BACKEND_STATUS_CHANGED,s)}}));var o=Me();return Object(a.jsxs)("div",{className:o.root,children:[Object(a.jsx)(Ve.a,{className:Object(Ye.a)((e={},Object(Ge.a)(e,o.icon,!0),Object(Ge.a)(e,o.iconConnected,i),Object(Ge.a)(e,o.iconDisconnected,!i),e))}),Object(a.jsx)(Ae.a,{children:i?"Bots connected":"Bots disconnected"})]})},ze=function(){var e=Object(c.useState)(F.getScrapingSpeedData()),t=Object(h.a)(e,2),n=t[0],i=t[1],r=function(){return[i(F.getScrapingSpeedData().toString())]};return Object(c.useEffect)((function(){return F.addChangeListener(m.SCRAPING_SPEED_DATA_UPDATED,r),function(){F.removeChangeListener(m.SCRAPING_SPEED_DATA_UPDATED,r)}})),Object(a.jsxs)(Ae.a,{variant:"h6",children:["Scrapes per minute: ",Object(a.jsx)("code",{children:n})]})},Ke=function(){return Object(a.jsx)("div",{children:Object(a.jsx)(Ee,{})})},Qe=Object(o.a)((function(e){return{root:{padding:"2rem"},tabsHeader:{backgroundColor:e.palette.primary.main,color:"#ffffff",display:"flex","& .MuiTabs-flexContainer":{justifyContent:"space-between"}},backendStatus:{display:"flex",alignItems:"center",marginRight:e.spacing(2)},tab:{height:"3.5rem"},subtitle:{color:e.palette.text.disabled}}})),qe=function(){var e=Qe(),t=["/","/jobs","/locations","/downloads"],n=Object(l.a)();return Object(a.jsx)(j.a,{children:Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(O.a,{path:"/",render:function(i){var r=i.location;return Object(a.jsxs)(c.Fragment,{children:[Object(a.jsxs)(d.a,{value:r.pathname,className:e.tabsHeader,children:[Object(a.jsxs)(u.a,{children:[Object(a.jsx)(b.a,{className:e.tab,label:"Overview",value:"/",component:j.b,to:t[0]}),Object(a.jsx)(b.a,{className:e.tab,label:"Scraping",value:"/config",component:j.b,to:t[1]}),Object(a.jsx)(b.a,{className:e.tab,value:"/locations",label:"Locations",component:j.b,to:t[2]}),Object(a.jsx)(b.a,{className:e.tab,value:"/downloads",label:"Downloads",component:j.b,to:t[3]})]}),Object(a.jsx)("div",{className:e.backendStatus,children:Object(a.jsx)(Je,{})})]}),Object(a.jsxs)("div",{className:e.root,children:[Object(a.jsx)(u.a,{justifyContent:"start",display:"flex",marginBottom:n.spacing(.5),children:Object(a.jsx)(X,{})}),Object(a.jsxs)(O.c,{children:[Object(a.jsx)(O.a,{path:t[1],render:function(){return Object(a.jsx)(_e,{})}}),Object(a.jsx)(O.a,{path:t[2],render:function(){return Object(a.jsx)(Ke,{})}}),Object(a.jsx)(O.a,{path:t[3],render:function(){return Object(a.jsx)(Fe,{})}}),Object(a.jsx)(O.a,{path:t[0],render:function(){return Object(a.jsx)(ze,{})}})]})]})]})}})})})};var Xe=function(){return Object(a.jsx)("div",{className:"App",children:Object(a.jsx)(qe,{})})},Ze=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,265)).then((function(t){var n=t.getCLS,a=t.getFID,c=t.getFCP,i=t.getLCP,r=t.getTTFB;n(e),a(e),c(e),i(e),r(e)}))};s.a.render(Object(a.jsx)(i.a.StrictMode,{children:Object(a.jsx)(Xe,{})}),document.getElementById("root")),Ze()}},[[199,1,2]]]);
//# sourceMappingURL=main.015bc5a7.chunk.js.map